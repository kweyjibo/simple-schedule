{"version":3,"sources":["schedule.js","main.js"],"names":["ROW_CLASS","CELL_CLASS","COLUMN_CLASS","SELECTED_CLASS","HOVERED_CLASS","WEEKDAY_ATTR","HOUR_ATTR","byClass","root","className","nodeType","result","df","childNodes","length","childNode","getElementsByClassName","concat","Array","prototype","slice","call","Schedule","element","_element","rows","cells","weekdays","forEach","row","push","getAttribute","modelSelected","modelHovered","weekday","boundOnMouseUp","onMouseUp","bind","window","addEventListener","event","type","target","classList","contains","onChooseRow","onChooseColumn","onMouseDown","onHover","onHoveredRow","onHoveredColumn","model","count","cell","hour","selected","hovered","toggle","select","toString","render","flag","start","end","selection","preventDefault","overRectangle","setDefaults","fn","firsWeekdayIndex","indexOf","lastWeekdayIndex","startWeekdayIndex","Math","min","endWeekdayIndex","max","startHour","parseInt","endHour","weekdayIndex","removeEventListener","document","getElementById","schedule"],"mappings":"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","file":"main.12d1ca7b.js","sourceRoot":"../src","sourcesContent":["/**\n * CONST\n */\nconst ROW_CLASS = 'js-schedule-day';\nconst CELL_CLASS = 'js-schedule-cell';\nconst COLUMN_CLASS = 'js-schedule-hour';\nconst SELECTED_CLASS = '__selected';\nconst HOVERED_CLASS = '__hovered';\nconst WEEKDAY_ATTR = 'data-weekday';\nconst HOUR_ATTR = 'data-hour';\n\n/**\n * @param {HTMLElement} root\n * @param {string} className\n * @returns {HTMLElement[]}\n */\nfunction byClass(root, className) {\n    if (root) {\n        if (root.nodeType === 11) { // == Node.DOCUMENT_FRAGMENT_NODE\n            var result = [];\n            for (var df = 0; df < root.childNodes.length; df++) {\n                var childNode = root.childNodes[df];\n                if (childNode.getElementsByClassName) {\n                    result = result.concat(Array.prototype.slice.call(childNode.getElementsByClassName(className)));\n                }\n            }\n            return result;\n        }\n        return Array.prototype.slice.call(root.getElementsByClassName(className));\n    }\n    return [];\n}\n\nexport default class Schedule {\n\n    constructor (element) {\n\n        this._element = element;\n        \n        this.rows = byClass(element, ROW_CLASS);\n        this.cells = byClass(element, CELL_CLASS);\n\n        var weekdays = this.weekdays = [];\n        this.rows.forEach(function (row) {\n            weekdays.push(row.getAttribute(WEEKDAY_ATTR));\n        });\n        \n        this.modelSelected = {};\n        this.modelHovered = {};\n\n        this.weekdays.forEach((weekday) => {\n            this.modelSelected[weekday] = [];\n            this.modelHovered[weekday] = [];\n        });\n\n        this.boundOnMouseUp = this.onMouseUp.bind(this);\n        window.addEventListener('mouseup', this.boundOnMouseUp);\n        this._element.addEventListener('click', this, false);\n        this._element.addEventListener('mousedown', this, false);\n        this._element.addEventListener('mouseup', this, false);\n        this._element.addEventListener('mouseover', this, false);\n        this._element.addEventListener('mouseout', this, false);\n    };\n\n    /**\n     * @param {Event} event\n     */\n    handleEvent(event) {\n        switch(event.type) {\n            case 'click':\n                if (event.target.classList.contains(ROW_CLASS)) {\n                    this.onChooseRow(event);\n                }\n                if (event.target.classList.contains(COLUMN_CLASS)) {\n                    this.onChooseColumn(event);\n                }\n                break;\n            case 'mousedown':\n                if (event.target.classList.contains(CELL_CLASS)) {\n                    this.onMouseDown(event);\n                }\n                break;\n            case 'mouseup':\n                if (event.target.classList.contains(CELL_CLASS)) {\n                    this.onMouseUp(event);\n                }\n                break;\n            case 'mouseover':\n                if (event.target.classList.contains(CELL_CLASS)) {\n                    this.onHover(event);\n                }\n                if (event.target.classList.contains(ROW_CLASS)) {\n                    this.onHoveredRow(event, true);\n                }\n                if (event.target.classList.contains(COLUMN_CLASS)) {\n                    this.onHoveredColumn(event, true);\n                }\n                break;\n            case 'mouseout':\n                if (event.target.classList.contains(ROW_CLASS)) {\n                    this.onHoveredRow(event, false);\n                }\n                if (event.target.classList.contains(COLUMN_CLASS)) {\n                    this.onHoveredColumn(event, false);\n                }\n                break;\n        }\n    }\n\n    /**\n     * @param {Object} model\n     */\n    setDefaults(model) {\n        this.weekdays.forEach(function (weekday) {\n            if (!model[weekday]) {\n                model[weekday] = {};\n            }\n        });\n    };\n\n    /**\n     *\n     */\n    render() {\n        var modelSelected = this.modelSelected;\n        var modelHovered = this.modelHovered;\n        var count = 0;\n\n        this.cells.forEach(function (cell) {\n            var weekday = cell.getAttribute(WEEKDAY_ATTR);\n            var hour = cell.getAttribute(HOUR_ATTR);\n            var selected = modelSelected[weekday][hour];\n            var hovered = modelHovered[weekday][hour];\n\n            if (selected) {\n                count += 1;\n            }\n\n            cell.classList.toggle(SELECTED_CLASS, selected === true);\n            cell.classList.toggle(HOVERED_CLASS, hovered === true);\n        });\n    };\n\n    /**\n     * @param {Event} event\n     */\n    onChooseRow(event) {\n        var weekday = event.target.getAttribute(WEEKDAY_ATTR);\n        var model = this.modelSelected;\n        var hour, select = false;\n\n        for (hour = 0; hour < 24; hour++) {\n            if (!model[weekday][hour.toString()]) {\n                select = true;\n            }\n        }\n\n        for (hour = 0; hour < 24; hour++) {\n            model[weekday][hour.toString()] = select;\n        }\n\n        this.render();\n    };\n\n    /**\n     * @param {Event} event\n     */\n    onChooseColumn(event) {\n        var hour = event.target.getAttribute(HOUR_ATTR);\n        var model = this.modelSelected;\n        var select = false;\n\n        this.weekdays.forEach(function (weekday) {\n            if (!model[weekday][hour]) {\n                select = true;\n            }\n        });\n\n        this.weekdays.forEach(function (weekday) {\n            model[weekday][hour] = select;\n        });\n\n        this.render();\n    };\n\n    /**\n     * @param {Boolean} flag\n     * @param {Event} event\n     */\n    onHoveredRow(event, flag) {\n        if (this.start || this.end) {\n            return;\n        }\n\n        var weekday = event.target.getAttribute(WEEKDAY_ATTR);\n\n        for (var hour = 0; hour < 24; hour++) {\n            this.modelHovered[weekday][hour] = flag;\n        }\n\n        this.render();\n    };\n\n    /**\n     * @param {Event} event\n     * @param {Boolean} flag\n     */\n    onHoveredColumn(event, flag) {\n        if (this.selection) {\n            return;\n        }\n\n        var hour = event.target.getAttribute(HOUR_ATTR);\n        var modelHovered = this.modelHovered;\n\n        this.weekdays.forEach(function (weekday) {\n            modelHovered[weekday][hour] = flag;\n        });\n\n        this.render();\n    };\n\n    /**\n     * @param {Event} event\n     */\n    onMouseDown(event) {\n        event.preventDefault();\n\n        var weekday = event.target.getAttribute(WEEKDAY_ATTR);\n        var hour = event.target.getAttribute(HOUR_ATTR);\n\n        this.selection = {\n            start: {\n                weekday: weekday,\n                hour: hour\n            },\n\n            end: {\n                weekday: weekday,\n                hour: hour\n            }\n        };\n    };\n\n    /**\n     *\n     */\n    onMouseUp() {\n        if (!this.selection) {\n            return;\n        }\n\n        var modelSelected = this.modelSelected;\n        var select = false;\n\n        this.overRectangle(this.selection.start, this.selection.end, function (weekday, hour) {\n            if (!modelSelected[weekday][hour]) {\n                select = true;\n            }\n        });\n\n        this.overRectangle(this.selection.start, this.selection.end, function (weekday, hour) {\n            modelSelected[weekday][hour] = select;\n        });\n\n        this.modelHovered = {};\n        this.setDefaults(this.modelHovered);\n\n        this.selection = null;\n\n        this.render();\n    };\n\n    /**\n     * @param {Event} event\n     */\n    onHover(event) {\n        var weekday = event.target.getAttribute(WEEKDAY_ATTR);\n        var hour = event.target.getAttribute(HOUR_ATTR);\n\n        if (!this.selection) {\n            return;\n        }\n\n        this.selection.end = {\n            weekday: weekday,\n            hour: hour\n        };\n\n        var modelHovered = this.modelHovered = {};\n        this.setDefaults(this.modelHovered);\n\n        this.overRectangle(this.selection.start, this.selection.end, function (weekday, hour) {\n            modelHovered[weekday][hour] = true;\n        });\n\n        this.render();\n    };\n\n    /**\n     * @param {Object} start\n     * @param {Object} end\n     * @param {Function} fn\n     */\n    overRectangle(start, end, fn) {\n        var firsWeekdayIndex =  this.weekdays.indexOf(start.weekday);\n        var lastWeekdayIndex = this.weekdays.indexOf(end.weekday);\n        var startWeekdayIndex = Math.min(firsWeekdayIndex,lastWeekdayIndex);\n        var endWeekdayIndex = Math.max(firsWeekdayIndex,lastWeekdayIndex);\n\n        var startHour = Math.min(end.hour, parseInt(start.hour));\n        var endHour = Math.max(end.hour, parseInt(start.hour));\n\n        for (var weekdayIndex = startWeekdayIndex; weekdayIndex <= endWeekdayIndex; weekdayIndex++) {\n            var weekday = this.weekdays[weekdayIndex];\n            for (var hour = startHour; hour <= endHour; hour++) {\n                fn(weekday, hour);\n            }\n        }\n    };\n\n    destroy() {\n        window.removeEventListener('mouseup', this.boundOnMouseUp);\n        this._element.removeEventListener('click', this, false);\n        this._element.removeEventListener('mousedown', this, false);\n        this._element.removeEventListener('mouseup', this, false);\n        this._element.removeEventListener('mouseover', this, false);\n        this._element.removeEventListener('mouseout', this, false);\n    }\n}","import Schedule from './schedule.js';\n\nlet element = document.getElementById('schedule');\nlet schedule = new Schedule(element);"]}